<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ« Day 2: Lamington â€” Cooking English Custom</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;500;700&family=Quicksand:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
<style>
:root {
  --primary: #E8792F;
  --primary-light: #FDF0E6;
  --primary-dark: #C45A1A;
  --navy: #1B3A5C;
  --blue: #2E75B6;
  --blue-light: #D6E8F7;
  --green: #4CAF50;
  --green-light: #E8F5E9;
  --purple: #7B1FA2;
  --purple-light: #F3E5F5;
  --listening-color: #00897B;
  --listening-light: #E0F2F1;
  --bg: #FAFAF7;
  --card-bg: #FFFFFF;
  --text: #333333;
  --text-light: #666666;
  --border: #E8E5DF;
  --shadow: 0 2px 12px rgba(27,58,92,0.08);
  --shadow-hover: 0 4px 20px rgba(27,58,92,0.14);
  --radius: 16px;
  --radius-sm: 10px;
  --yamada-bg: linear-gradient(135deg, #FFF5F5 0%, #FFF0F5 50%, #F5F0FF 100%);
  --yamada-border: #E8B4B8;
  --yamada-accent: #C2185B;
  --pronun-color: #E65100;
  --pronun-light: #FFF3E0;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Noto Sans JP', 'Zen Maru Gothic', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.8;
  min-height: 100vh;
}

.header {
  background: linear-gradient(135deg, var(--navy) 0%, #2A5080 100%);
  color: white;
  padding: 2rem 1.5rem 1.5rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.header::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -20%;
  width: 300px;
  height: 300px;
  background: radial-gradient(circle, rgba(232,121,47,0.15) 0%, transparent 70%);
  border-radius: 50%;
}
.header-badge {
  display: inline-block;
  background: rgba(255,255,255,0.15);
  backdrop-filter: blur(10px);
  padding: 0.3rem 1rem;
  border-radius: 20px;
  font-size: 0.75rem;
  font-family: 'Quicksand', sans-serif;
  font-weight: 600;
  letter-spacing: 0.05em;
  margin-bottom: 0.8rem;
  border: 1px solid rgba(255,255,255,0.2);
}
.header h1 {
  font-family: 'Quicksand', sans-serif;
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.3rem;
}
.header p { font-size: 0.85rem; opacity: 0.8; }

.progress-bar {
  background: white;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--border);
  position: sticky;
  top: 0;
  z-index: 100;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}
.progress-dots { display: flex; gap: 4px; justify-content: center; align-items: center; }
.progress-dot {
  width: 28px; height: 6px; border-radius: 3px;
  background: var(--border); transition: all 0.3s; cursor: pointer;
}
.progress-dot.active { background: var(--primary); }
.progress-dot.complete { background: var(--green); }
.progress-label {
  text-align: center; font-size: 0.7rem; color: var(--text-light);
  margin-top: 0.4rem; font-family: 'Quicksand', sans-serif; font-weight: 600;
}

.main { max-width: 640px; margin: 0 auto; padding: 1rem 1rem 4rem; }

.section-card {
  background: var(--card-bg); border-radius: var(--radius);
  margin-bottom: 1.2rem; box-shadow: var(--shadow);
  overflow: hidden; border: 1px solid var(--border);
  transition: box-shadow 0.3s;
  animation: fadeIn 0.4s ease both;
}
.section-card:hover { box-shadow: var(--shadow-hover); }
.section-card:nth-child(1) { animation-delay: 0.05s; }
.section-card:nth-child(2) { animation-delay: 0.1s; }
.section-card:nth-child(3) { animation-delay: 0.15s; }
.section-card:nth-child(4) { animation-delay: 0.2s; }
.section-card:nth-child(5) { animation-delay: 0.25s; }
.section-card:nth-child(6) { animation-delay: 0.3s; }
.section-card:nth-child(7) { animation-delay: 0.35s; }
.section-card:nth-child(8) { animation-delay: 0.4s; }
.section-card:nth-child(9) { animation-delay: 0.45s; }
.section-card:nth-child(10) { animation-delay: 0.5s; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.section-header {
  display: flex; align-items: center; gap: 0.8rem;
  padding: 1rem 1.2rem; cursor: pointer; user-select: none;
  transition: background 0.2s;
}
.section-header:hover { background: rgba(0,0,0,0.02); }
.section-number {
  width: 32px; height: 32px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-family: 'Quicksand', sans-serif; font-weight: 700;
  font-size: 0.85rem; color: white; flex-shrink: 0;
}
.section-title { flex: 1; }
.section-title .label {
  font-size: 0.65rem; font-family: 'Quicksand', sans-serif;
  font-weight: 700; text-transform: uppercase;
  letter-spacing: 0.08em; opacity: 0.7;
}
.section-title .name { font-size: 1rem; font-weight: 700; }
.section-chevron { font-size: 1.2rem; transition: transform 0.3s; opacity: 0.4; }
.section-card.open .section-chevron { transform: rotate(180deg); }
.section-body { padding: 0 1.2rem 1.2rem; display: none; }
.section-card.open .section-body { display: block; }

.yamada-comment {
  background: var(--yamada-bg); border: 1px solid var(--yamada-border);
  border-radius: var(--radius-sm); padding: 0.8rem 1rem;
  margin-bottom: 1rem; display: flex; gap: 0.6rem;
  align-items: flex-start; font-size: 0.85rem; line-height: 1.6;
}
.yamada-text { flex: 1; }
.yamada-name {
  font-size: 0.7rem; font-weight: 700; color: var(--yamada-accent);
  font-family: 'Quicksand', sans-serif; margin-bottom: 0.15rem;
}

.recipe-box {
  background: #FFFDF9; border: 1px solid #F0E8D8;
  border-radius: var(--radius-sm); padding: 1.2rem; margin-bottom: 1rem;
}
.recipe-box h3 { font-family: 'Quicksand', sans-serif; font-size: 1.1rem; color: var(--navy); margin-bottom: 0.8rem; }
.recipe-box .ingredients {
  font-size: 0.85rem; color: var(--text-light); margin-bottom: 1rem;
  padding: 0.6rem; background: rgba(232,121,47,0.05); border-radius: 8px;
}
.recipe-box .ingredients strong { color: var(--primary-dark); }
.recipe-steps { counter-reset: step; list-style: none; }
.recipe-steps li {
  counter-increment: step; padding: 0.5rem 0 0.5rem 2.2rem;
  position: relative; font-size: 0.9rem; border-bottom: 1px solid #F5F0E8;
}
.recipe-steps li:last-child { border-bottom: none; }
.recipe-steps li::before {
  content: counter(step); position: absolute; left: 0; top: 0.5rem;
  width: 24px; height: 24px; background: var(--primary); color: white;
  border-radius: 50%; font-size: 0.75rem; font-family: 'Quicksand', sans-serif;
  font-weight: 700; display: flex; align-items: center; justify-content: center;
}
.recipe-steps li strong { color: var(--navy); }

.action-row { display: flex; gap: 0.5rem; margin: 0.8rem 0; flex-wrap: wrap; }
.action-btn {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.4rem 0.8rem; border: 1px solid var(--border);
  border-radius: 20px; font-size: 0.75rem; background: white;
  cursor: pointer; transition: all 0.2s; font-family: 'Noto Sans JP', sans-serif;
  color: var(--text-light); text-decoration: none;
}
.action-btn:hover { background: var(--blue-light); border-color: var(--blue); color: var(--navy); }

.vocab-toggle {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.4rem 0.8rem; border: 1px solid var(--border);
  border-radius: 20px; font-size: 0.75rem; background: white;
  cursor: pointer; transition: all 0.2s; color: var(--text-light); margin-bottom: 0.5rem;
}
.vocab-toggle:hover { background: var(--green-light); border-color: var(--green); }
.vocab-list { display: none; margin-top: 0.5rem; }
.vocab-list.show { display: block; }
.vocab-item {
  display: flex; align-items: center; gap: 0.8rem;
  padding: 0.5rem 0.8rem; border-radius: 8px; font-size: 0.85rem;
  transition: background 0.2s; cursor: pointer;
}
.vocab-item:hover { background: rgba(0,0,0,0.03); }
.vocab-check {
  width: 18px; height: 18px; border: 2px solid var(--border);
  border-radius: 4px; flex-shrink: 0; display: flex;
  align-items: center; justify-content: center;
  transition: all 0.2s; font-size: 0.7rem; color: transparent;
}
.vocab-item.checked .vocab-check { background: var(--primary); border-color: var(--primary); color: white; }
.vocab-en { font-weight: 700; color: var(--navy); min-width: 100px; }
.vocab-ja { color: var(--text-light); font-size: 0.8rem; }

.quiz-question { font-weight: 700; font-size: 0.95rem; margin-bottom: 0.8rem; color: var(--navy); padding-left: 0.3rem; }
.quiz-options { display: flex; flex-direction: column; gap: 0.5rem; }
.quiz-option {
  padding: 0.7rem 1rem; border: 2px solid var(--border);
  border-radius: var(--radius-sm); cursor: pointer; font-size: 0.9rem;
  transition: all 0.2s; background: white;
}
.quiz-option:hover { border-color: var(--blue); background: var(--blue-light); }
.quiz-option.correct { border-color: var(--green); background: var(--green-light); }
.quiz-option.wrong { border-color: #E53935; background: #FFEBEE; }
.quiz-feedback { margin-top: 0.8rem; padding: 0.6rem 0.8rem; border-radius: 8px; font-size: 0.85rem; display: none; }
.quiz-feedback.show { display: block; }
.quiz-feedback.correct { background: var(--green-light); color: #2E7D32; }
.quiz-feedback.wrong { background: #FFEBEE; color: #C62828; }

.review-card {
  background: linear-gradient(135deg, #FFFDF7 0%, #FFF8F0 100%);
  border: 1px solid #F0E0C8; border-radius: var(--radius-sm);
  padding: 1.2rem; margin-bottom: 1rem;
}
.review-header { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.6rem; }
.review-header h4 { font-family: 'Quicksand', sans-serif; font-size: 0.95rem; color: var(--navy); }
.review-stars { color: #F9A825; font-size: 0.9rem; }
.review-text { font-size: 0.9rem; line-height: 1.9; color: var(--text); }

.tips-box {
  background: linear-gradient(135deg, #F0F8FF 0%, #E8F5E9 100%);
  border: 1px solid #C8E6C9; border-radius: var(--radius-sm); padding: 1.2rem;
}
.tips-box p { font-size: 0.85rem; margin-bottom: 0.8rem; line-height: 1.8; }
.tips-box p:last-child { margin-bottom: 0; }

.conversation-scene {
  background: var(--blue-light); border-radius: var(--radius-sm);
  padding: 0.6rem 1rem; font-size: 0.8rem; color: var(--navy);
  margin-bottom: 1rem; font-weight: 500;
}
.convo-line { display: flex; gap: 0.6rem; margin-bottom: 0.6rem; align-items: flex-start; }
.convo-speaker { font-weight: 700; font-size: 0.8rem; min-width: 50px; padding-top: 0.1rem; flex-shrink: 0; }
.convo-speaker.you { color: var(--primary); }
.convo-speaker.emma { color: var(--blue); }
.convo-text { font-size: 0.9rem; }

/* ===== LISTENING ===== */
.listening-box {
  background: var(--listening-light); border: 1px solid #B2DFDB;
  border-radius: var(--radius-sm); padding: 1.2rem; margin-bottom: 1rem;
}
.listening-box h4 { font-family: 'Quicksand', sans-serif; color: var(--listening-color); font-size: 0.95rem; margin-bottom: 0.8rem; }
.listening-instruction { font-size: 0.85rem; color: var(--text-light); margin-bottom: 0.6rem; }

.tts-btn {
  display: inline-flex; align-items: center; gap: 0.4rem;
  padding: 0.5rem 1.2rem; background: var(--listening-color);
  color: white; border: none; border-radius: 20px;
  font-size: 0.8rem; font-family: 'Noto Sans JP', sans-serif;
  font-weight: 700; cursor: pointer; transition: all 0.2s;
  margin-bottom: 0.8rem;
}
.tts-btn:hover { background: #00695C; transform: translateY(-1px); }
.tts-btn.playing { background: #E53935; }
.tts-btn.playing:hover { background: #C62828; }

.tts-speed {
  display: inline-flex; align-items: center; gap: 0.3rem;
  margin-left: 0.5rem; font-size: 0.75rem; color: var(--text-light);
}
.tts-speed select {
  border: 1px solid var(--border); border-radius: 12px;
  padding: 0.2rem 0.4rem; font-size: 0.75rem;
  background: white; cursor: pointer;
}

.gap-fill { margin: 0.5rem 0; font-size: 0.9rem; line-height: 2.4; }
.gap-fill input {
  border: none; border-bottom: 2px solid var(--listening-color);
  background: rgba(0,137,123,0.05); border-radius: 4px 4px 0 0;
  padding: 0.1rem 0.3rem; font-size: 0.9rem;
  font-family: 'Quicksand', sans-serif; font-weight: 600;
  width: 100px; text-align: center; outline: none;
  color: var(--listening-color);
}
.gap-fill input:focus { border-bottom-color: var(--primary); background: rgba(232,121,47,0.08); }
.gap-fill input.correct-input { border-bottom-color: #4CAF50; background: rgba(76,175,80,0.1); }
.gap-fill input.wrong-input { border-bottom-color: #E53935; background: rgba(229,57,53,0.1); }

.listening-check-btn {
  display: inline-flex; align-items: center; gap: 0.4rem;
  padding: 0.5rem 1.2rem; background: var(--listening-color);
  color: white; border: none; border-radius: 20px;
  font-size: 0.8rem; font-family: 'Noto Sans JP', sans-serif;
  font-weight: 700; cursor: pointer; transition: all 0.2s; margin-top: 0.5rem;
}
.listening-check-btn:hover { background: #00695C; transform: translateY(-1px); }
.listening-answer {
  margin-top: 0.8rem; padding: 0.6rem 0.8rem; background: white;
  border-radius: 8px; font-size: 0.85rem; display: none; border: 1px solid #B2DFDB;
}
.listening-answer.show { display: block; }

.listening-script-toggle {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.4rem 0.8rem; border: 1px dashed var(--listening-color);
  border-radius: 20px; font-size: 0.75rem; background: white;
  cursor: pointer; color: var(--listening-color); margin-top: 0.5rem;
}
.listening-script { display: none; margin-top: 0.6rem; padding: 0.8rem; background: white; border-radius: 8px; font-size: 0.85rem; border: 1px solid #B2DFDB; line-height: 1.8; }
.listening-script.show { display: block; }

.try-it-box {
  background: var(--purple-light); border: 1px solid #CE93D8;
  border-radius: var(--radius-sm); padding: 1.2rem;
}
.try-it-box h4 { color: var(--purple); font-family: 'Quicksand', sans-serif; margin-bottom: 0.5rem; }
.try-it-box p { font-size: 0.85rem; margin-bottom: 0.6rem; }
.try-it-textarea {
  width: 100%; min-height: 100px; border: 1px solid #CE93D8;
  border-radius: 8px; padding: 0.8rem; font-size: 0.9rem;
  font-family: 'Noto Sans JP', sans-serif; line-height: 1.8;
  resize: vertical; outline: none; transition: border-color 0.2s;
}
.try-it-textarea:focus { border-color: var(--purple); }

.summary-box {
  background: white; border: 2px dashed var(--border);
  border-radius: var(--radius-sm); padding: 1.2rem; text-align: center;
}
.summary-btn {
  display: inline-flex; align-items: center; gap: 0.4rem;
  padding: 0.6rem 1.5rem; background: var(--navy); color: white;
  border: none; border-radius: 20px; font-size: 0.85rem;
  font-family: 'Noto Sans JP', sans-serif; font-weight: 700;
  cursor: pointer; transition: all 0.2s; margin-bottom: 0.5rem;
}
.summary-btn:hover { background: #2A5080; transform: translateY(-1px); }
.summary-output {
  margin-top: 0.8rem; text-align: left; font-size: 0.8rem;
  color: var(--text-light); padding: 0.8rem; background: #F5F5F5;
  border-radius: 8px; display: none; white-space: pre-wrap;
}
.summary-output.show { display: block; }

.day-nav {
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 0; margin-top: 1rem; border-top: 1px solid var(--border);
}
.nav-btn {
  display: inline-flex; align-items: center; gap: 0.3rem;
  padding: 0.5rem 1rem; border: 1px solid var(--border);
  border-radius: 20px; font-size: 0.85rem; background: white;
  cursor: pointer; transition: all 0.2s; text-decoration: none;
  color: var(--text); font-family: 'Noto Sans JP', sans-serif;
}
.nav-btn:hover { background: var(--blue-light); border-color: var(--blue); }
.nav-btn.disabled { opacity: 0.4; pointer-events: none; }
.home-btn {
  padding: 0.5rem 1rem; background: var(--primary); color: white;
  border: none; border-radius: 20px; font-size: 0.8rem; cursor: pointer;
  text-decoration: none; font-family: 'Quicksand', sans-serif; font-weight: 700;
}

.sec-recipe .section-number { background: var(--primary); }
.sec-quiz1 .section-number { background: var(--blue); }
.sec-review .section-number { background: #F9A825; }
.sec-quiz2 .section-number { background: var(--blue); }
.sec-tips .section-number { background: var(--green); }
.sec-convo .section-number { background: var(--navy); }
.sec-quiz3 .section-number { background: var(--blue); }
.sec-listening .section-number { background: var(--listening-color); }
.sec-tryit .section-number { background: var(--purple); }
.sec-summary .section-number { background: var(--text-light); }
.sec-pronun .section-number { background: var(--pronun-color); }

/* ===== PRONUNCIATION CHECK ===== */
.pronun-box {
  background: var(--pronun-light);
  border: 1px solid #FFB74D;
  border-radius: var(--radius-sm);
  padding: 1.2rem;
  margin-bottom: 1rem;
}
.pronun-box h4 {
  font-family: 'Quicksand', sans-serif;
  color: var(--pronun-color);
  font-size: 0.95rem;
  margin-bottom: 0.6rem;
}
.pronun-sentence {
  background: white;
  border: 2px solid #FFB74D;
  border-radius: var(--radius-sm);
  padding: 1rem;
  margin: 0.8rem 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--navy);
  text-align: center;
  line-height: 1.8;
}
.pronun-sentence .word {
  display: inline-block;
  padding: 0.1rem 0.2rem;
  border-radius: 4px;
  transition: all 0.3s;
  margin: 0 1px;
}
.pronun-sentence .word.correct { background: rgba(76,175,80,0.2); color: #2E7D32; }
.pronun-sentence .word.wrong { background: rgba(229,57,53,0.2); color: #C62828; text-decoration: underline wavy #E53935; }
.pronun-sentence .word.missed { background: rgba(255,152,0,0.2); color: #E65100; }

.pronun-record-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.7rem 1.5rem;
  background: var(--pronun-color);
  color: white;
  border: none;
  border-radius: 25px;
  font-size: 0.9rem;
  font-family: 'Noto Sans JP', sans-serif;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s;
}
.pronun-record-btn:hover { background: #BF360C; transform: translateY(-1px); }
.pronun-record-btn.recording {
  background: #E53935;
  animation: pulse 1.5s infinite;
}
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(229,57,53,0.4); }
  50% { box-shadow: 0 0 0 12px rgba(229,57,53,0); }
}

.pronun-result {
  margin-top: 1rem;
  padding: 0.8rem 1rem;
  border-radius: var(--radius-sm);
  display: none;
  font-size: 0.85rem;
}
.pronun-result.show { display: block; }
.pronun-result.good { background: var(--green-light); border: 1px solid #A5D6A7; }
.pronun-result.needs-work { background: #FFF3E0; border: 1px solid #FFB74D; }
.pronun-result.try-again { background: #FFEBEE; border: 1px solid #EF9A9A; }

.pronun-score {
  display: flex;
  align-items: center;
  gap: 0.8rem;
  margin-bottom: 0.5rem;
}
.pronun-score-circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Quicksand', sans-serif;
  font-weight: 700;
  font-size: 1.1rem;
  color: white;
  flex-shrink: 0;
}
.pronun-score-circle.high { background: var(--green); }
.pronun-score-circle.mid { background: #FF9800; }
.pronun-score-circle.low { background: #E53935; }

.pronun-heard {
  margin-top: 0.5rem;
  padding: 0.5rem 0.8rem;
  background: rgba(0,0,0,0.03);
  border-radius: 8px;
  font-size: 0.8rem;
  color: var(--text-light);
}
.pronun-heard strong { color: var(--navy); }

.pronun-tips {
  margin-top: 0.6rem;
  font-size: 0.8rem;
  color: var(--text-light);
  padding-left: 0.5rem;
}
.pronun-tips li { margin-bottom: 0.3rem; }

.pronun-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 0.8rem;
}
.pronun-nav-btn {
  padding: 0.4rem 1rem;
  border: 1px solid var(--border);
  border-radius: 20px;
  font-size: 0.8rem;
  background: white;
  cursor: pointer;
  transition: all 0.2s;
}
.pronun-nav-btn:hover { background: var(--pronun-light); border-color: #FFB74D; }
.pronun-nav-btn.disabled { opacity: 0.3; pointer-events: none; }
.pronun-counter {
  font-size: 0.75rem;
  color: var(--text-light);
  font-family: 'Quicksand', sans-serif;
  font-weight: 600;
}
.pronun-browser-note {
  font-size: 0.7rem;
  color: var(--text-light);
  margin-top: 0.5rem;
  padding: 0.4rem 0.6rem;
  background: rgba(0,0,0,0.03);
  border-radius: 6px;
}

.repeat-count { font-size: 0.75rem; color: var(--text-light); margin-left: 0.5rem; }

@media (max-width: 480px) {
  .header h1 { font-size: 1.6rem; }
  .main { padding: 0.8rem 0.6rem 4rem; }
  .section-body { padding: 0 0.8rem 1rem; }
}
</style>
</head>
<body>

<div class="header">
  <div class="header-badge">COOKING ENGLISH â€” CUSTOM EDITION</div>
  <h1>ğŸ« Day 2: Lamington</h1>
  <p>30æ—¥é–“ã‚¯ãƒƒã‚­ãƒ³ã‚°è‹±èª â€” 2æ—¥ç›®</p>
</div>

<div class="progress-bar">
  <div class="progress-dots">
    <div class="progress-dot active" data-section="0"></div>
    <div class="progress-dot" data-section="1"></div>
    <div class="progress-dot" data-section="2"></div>
    <div class="progress-dot" data-section="3"></div>
    <div class="progress-dot" data-section="4"></div>
    <div class="progress-dot" data-section="5"></div>
    <div class="progress-dot" data-section="6"></div>
    <div class="progress-dot" data-section="7"></div>
    <div class="progress-dot" data-section="8"></div>
    <div class="progress-dot" data-section="9"></div>
    <div class="progress-dot" data-section="10"></div>
  </div>
  <div class="progress-label">1 / 11 ã‚»ã‚¯ã‚·ãƒ§ãƒ³</div>
</div>

<div class="main">

<div class="section-card sec-recipe open" data-index="0">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">1</div>
    <div class="section-title"><div class="label">Recipe</div><div class="name">Lamingtonã®ãƒ¬ã‚·ãƒ”ã‚’èª­ã‚“ã§ã¿ã‚ˆã†</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã€ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®å›½æ°‘çš„ã‚±ãƒ¼ã‚­ã ã­ï¼ãƒãƒ§ã‚³ã¨ã‚³ã‚³ãƒŠãƒƒãƒ„ã®çµ„ã¿åˆã‚ã›ã€æœ€å¼·ã§ã—ã‚‡ã€‚ãƒ¬ã‚·ãƒ”ã®è‹±èªã€å‹•è©ã«æ³¨ç›®ã—ã¦èª­ã‚“ã§ã¿ã‚ˆã†ï¼
      </div>
    </div>
    <div class="recipe-box">
      <h3>How to Make Lamingtons</h3>
      <p>Lamingtons are a famous Australian cake. They are sponge cake squares covered in chocolate and coconut.</p>
      <div class="ingredients">
        <strong>Ingredients:</strong><br>
        sponge cake, cocoa powder, icing sugar, butter, milk, desiccated coconut, hot water
      </div>
      <ol class="recipe-steps">
        <li><strong>Bake</strong> a simple sponge cake and let it <strong>cool</strong> completely.</li>
        <li><strong>Cut</strong> the sponge cake into small squares, about 5 centimetres each.</li>
        <li><strong>Mix</strong> the cocoa powder, icing sugar, butter, and hot water to make the chocolate sauce.</li>
        <li><strong>Dip</strong> each cake square into the chocolate sauce with a fork.</li>
        <li><strong>Roll</strong> the chocolate-covered squares in the desiccated coconut.</li>
        <li><strong>Place</strong> the lamingtons on a wire rack and let them <strong>set</strong> in the fridge for 30 minutes.</li>
      </ol>
    </div>
    <div class="action-row">
      <button class="action-btn" onclick="copyText('recipe-text')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
      <button class="action-btn tts-btn" onclick="speakText('recipe-tts', this)">ğŸ”Š èª­ã¿ä¸Šã’</button>
      <a class="action-btn" href="https://www.naturalreaders.com/online/" target="_blank">ğŸ”Š Natural Reader</a>
    </div>
    <div id="recipe-text" style="display:none">How to Make Lamingtons. Lamingtons are a famous Australian cake. They are sponge cake squares covered in chocolate and coconut. Ingredients: sponge cake, cocoa powder, icing sugar, butter, milk, desiccated coconut, hot water. Steps: 1. **Bake** a simple sponge cake and let it **cool** completely. 2. **Cut** the sponge cake into small squares, about 5 centimetres each. 3. **Mix** the cocoa powder, icing sugar, butter, and hot water to make the chocolate sauce. 4. **Dip** each cake square into the chocolate sauce with a fork. 5. **Roll** the chocolate-covered squares in the desiccated coconut. 6. **Place** the lamingtons on a wire rack and let them **set** in the fridge for 30 minutes.</div>
    <div id="recipe-tts" style="display:none">How to Make Lamingtons. Lamingtons are a famous Australian cake. They are sponge cake squares covered in chocolate and coconut. Step 1. **Bake** a simple sponge cake and let it **cool** completely. Step 2. **Cut** the sponge cake into small squares, about 5 centimetres each. Step 3. **Mix** the cocoa powder, icing sugar, butter, and hot water to make the chocolate sauce. Step 4. **Dip** each cake square into the chocolate sauce with a fork. Step 5. **Roll** the chocolate-covered squares in the desiccated coconut. Step 6. **Place** the lamingtons on a wire rack and let them **set** in the fridge for 30 minutes.</div>
    <button class="vocab-toggle" onclick="toggleVocab(this)">ğŸ“š å˜èªãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹</button>
    <div class="vocab-list">
      <p style="font-size:0.75rem;color:var(--text-light);margin-bottom:0.5rem;">ğŸ’¡ ã‚ã‹ã‚‰ãªã‹ã£ãŸå˜èªã«ãƒã‚§ãƒƒã‚¯ âœ“</p>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">sponge cake</span><span class="vocab-ja">ã‚¹ãƒãƒ³ã‚¸ã‚±ãƒ¼ã‚­</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">cocoa powder</span><span class="vocab-ja">ã‚³ã‚³ã‚¢ãƒ‘ã‚¦ãƒ€ãƒ¼</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">icing sugar</span><span class="vocab-ja">ç²‰ç ‚ç³–</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">desiccated coconut</span><span class="vocab-ja">ä¹¾ç‡¥ã‚³ã‚³ãƒŠãƒƒãƒ„</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">dip</span><span class="vocab-ja">æµ¸ã™ãƒ»ã¤ã‘ã‚‹</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">wire rack</span><span class="vocab-ja">ç¶²ï¼ˆå†·å´ç”¨ãƒ©ãƒƒã‚¯ï¼‰</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">set</span><span class="vocab-ja">å›ºã¾ã‚‹</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">square</span><span class="vocab-ja">å››è§’å½¢</span></div>
    </div>
  </div>
</div>

<div class="section-card sec-quiz1" data-index="1">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">2</div>
    <div class="section-title"><div class="label">Quiz 1</div><div class="name">ãƒ¬ã‚·ãƒ”ã®å†…å®¹ãƒã‚§ãƒƒã‚¯</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="quiz-question">Q: ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã®ã‚¹ãƒãƒ³ã‚¸ã‚±ãƒ¼ã‚­ã‚’ä½•ã‚»ãƒ³ãƒã«åˆ‡ã‚Šã¾ã™ã‹ï¼Ÿ</div>
    <div class="quiz-options">
      <div class="quiz-option" onclick="checkQuiz(this, false)">3ã‚»ãƒ³ãƒ</div>
      <div class="quiz-option" onclick="checkQuiz(this, true)">5ã‚»ãƒ³ãƒ</div>
      <div class="quiz-option" onclick="checkQuiz(this, false)">8ã‚»ãƒ³ãƒ</div>
    </div>
    <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;Cut the sponge cake into small squares, about 5 centimetres each.&quot;</div>
    <div class="quiz-feedback wrong">âŒ ã‚¹ãƒ†ãƒƒãƒ—2ã‚’ã‚‚ã†ä¸€å›èª­ã‚“ã§ã¿ã‚ˆã†ï¼</div>
  </div>
</div>

<div class="section-card sec-review" data-index="2">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">3</div>
    <div class="section-title"><div class="label">Review</div><div class="name">ã‚«ãƒ•ã‚§ã®ãŠå®¢ã•ã‚“ãƒ¬ãƒ“ãƒ¥ãƒ¼</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        ã‚«ãƒ•ã‚§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è‹±èªã§èª­ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ã¨ä¸–ç•ŒãŒåºƒãŒã‚‹ã‚ˆã€‚Snow Manã®æµ·å¤–å…¬æ¼”ã®ã¨ãã€ç¾åœ°ã®ã‚«ãƒ•ã‚§ãƒ¬ãƒ“ãƒ¥ãƒ¼èª­ã‚“ã§ãŠåº—æ¢ã—ãŸã‚Šã™ã‚‹ã‹ã‚‰ã­ï¼
      </div>
    </div>
    <div class="review-card">
      <div class="review-header"><span>â˜•</span><h4>Esplanade Sweets CafÃ© â€” Cairns Esplanade, Queensland, Australia</h4></div>
      <div class="review-stars">â­â­â­â­</div>
      <div class="review-text" style="margin-top:0.5rem;">
        I visited Esplanade Sweets CafÃ© last Saturday. It is right next to the lagoon on the Esplanade. I ordered a lamington and a flat white. The lamington was so soft inside and the chocolate coating was rich. There was a lot of coconut on the outside. It was a bit sweet for me, but still very tasty. I sat outside and watched people swimming in the lagoon. I will come back again!
      </div>
    </div>
    <div class="action-row">
      <button class="action-btn" onclick="copyText('review-text')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
      <button class="action-btn tts-btn" onclick="speakText('review-tts', this)">ğŸ”Š èª­ã¿ä¸Šã’</button>
      <a class="action-btn" href="https://www.naturalreaders.com/online/" target="_blank">ğŸ”Š Natural Reader</a>
    </div>
    <div id="review-text" style="display:none">I visited Esplanade Sweets CafÃ© last Saturday. It is right next to the lagoon on the Esplanade. I ordered a lamington and a flat white. The lamington was so soft inside and the chocolate coating was rich. There was a lot of coconut on the outside. It was a bit sweet for me, but still very tasty. I sat outside and watched people swimming in the lagoon. I will come back again!</div>
    <div id="review-tts" style="display:none">I visited Esplanade Sweets CafÃ© last Saturday. It is right next to the lagoon on the Esplanade. I ordered a lamington and a flat white. The lamington was so soft inside and the chocolate coating was rich. There was a lot of coconut on the outside. It was a bit sweet for me, but still very tasty. I sat outside and watched people swimming in the lagoon. I will come back again!</div>
    <button class="vocab-toggle" onclick="toggleVocab(this)">ğŸ“š å˜èªãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹</button>
    <div class="vocab-list">
      <p style="font-size:0.75rem;color:var(--text-light);margin-bottom:0.5rem;">ğŸ’¡ ã‚ã‹ã‚‰ãªã‹ã£ãŸå˜èªã«ãƒã‚§ãƒƒã‚¯ âœ“</p>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">lagoon</span><span class="vocab-ja">ãƒ©ã‚°ãƒ¼ãƒ³ï¼ˆäººå·¥ãƒ—ãƒ¼ãƒ«ï¼‰</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">flat white</span><span class="vocab-ja">ãƒ•ãƒ©ãƒƒãƒˆãƒ›ãƒ¯ã‚¤ãƒˆï¼ˆAUã®ã‚³ãƒ¼ãƒ’ãƒ¼ï¼‰</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">coating</span><span class="vocab-ja">ã‚³ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ»è¦†ã„</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">rich</span><span class="vocab-ja">æ¿ƒåšãª</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">tasty</span><span class="vocab-ja">ãŠã„ã—ã„</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">outside</span><span class="vocab-ja">å¤–ã«ãƒ»å¤–å´</span></div>
    </div>
  </div>
</div>

<div class="section-card sec-quiz2" data-index="3">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">4</div>
    <div class="section-title"><div class="label">Quiz 2</div><div class="name">ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å†…å®¹ãƒã‚§ãƒƒã‚¯</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="quiz-question">Q: ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã¯ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã¨ä¸€ç·’ã«ä½•ã‚’é£²ã¿ã¾ã—ãŸã‹ï¼Ÿ</div>
    <div class="quiz-options">
      <div class="quiz-option" onclick="checkQuiz(this, false)">ã‚«ãƒ—ãƒãƒ¼ãƒ</div>
      <div class="quiz-option" onclick="checkQuiz(this, true)">ãƒ•ãƒ©ãƒƒãƒˆãƒ›ãƒ¯ã‚¤ãƒˆ</div>
      <div class="quiz-option" onclick="checkQuiz(this, false)">ãƒ›ãƒƒãƒˆãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆ</div>
    </div>
    <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;I ordered a lamington and a flat white.&quot;</div>
    <div class="quiz-feedback wrong">âŒ &quot;ordered&quot; ã®å¾Œã‚’ã‚‚ã†ä¸€å›èª­ã‚“ã§ã¿ã‚ˆã†ï¼</div>
  </div>
</div>

<div class="section-card sec-tips" data-index="4">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">5</div>
    <div class="section-title"><div class="label">ğŸ¦˜ Australia Tips</div><div class="name">ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã§Lamingtonã‚’æ¥½ã—ã‚€ãªã‚‰</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="tips-box">
      <p>ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã¯ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®ã€Œ<strong>national cake</strong>ã€ã¨ã‚‚å‘¼ã°ã‚Œã‚‹å¤§äººæ°—ã®ã‚¹ã‚¤ãƒ¼ãƒ„ã€‚1æœˆ21æ—¥ã¯ã€Œ<strong>National Lamington Day</strong>ã€ï¼ã‚«ãƒ•ã‚§ã§è¦‹ã‹ã‘ãŸã‚‰ã€Œ<strong>Can I try a lamington, please?</strong>ã€ã¨è¨€ã£ã¦ã¿ã‚ˆã†ã€‚</p>
      <p>ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢ã®ã‚³ãƒ¼ãƒ’ãƒ¼ã§ä¸€ç•ªäººæ°—ã¯ã€Œ<strong>flat white</strong>ã€ã€‚æ—¥æœ¬ã®ã‚«ãƒ•ã‚§ãƒ©ãƒ†ã«ä¼¼ã¦ã‚‹ã‘ã©ã€ãƒŸãƒ«ã‚¯ã®æ³¡ãŒå°‘ãªãã¦ã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã€‚æ³¨æ–‡ã¯ã€Œ<strong>A flat white, please.</strong>ã€ã§OKã€‚ã‚±ã‚¢ãƒ³ã‚ºã®ã‚«ãƒ•ã‚§ã§ã‚‚ã‚ˆãå‡ºã¾ã™ï¼</p>
      <p>ã‚±ã‚¢ãƒ³ã‚ºã®<strong>Esplanade</strong>ï¼ˆã‚¨ã‚¹ãƒ—ãƒ©ãƒãƒ¼ãƒ‰ï¼‰ã¯æµ·æ²¿ã„ã®éŠæ­©é“ã§ã€ã‚«ãƒ•ã‚§ã‚„ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãŒãŸãã•ã‚“ã€‚ç„¡æ–™ã®<strong>lagoon</strong>ï¼ˆäººå·¥ãƒ—ãƒ¼ãƒ«ï¼‰ã‚‚ã‚ã‚‹ã‚ˆã€‚å‹é”ã«ã€Œ<strong>Let's get lamingtons at the Esplanade!</strong>ã€ã¨èª˜ã£ã¦ã¿ã‚ˆã†ï¼</p>
    </div>
  </div>
</div>

<div class="section-card sec-convo" data-index="5">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">6</div>
    <div class="section-title"><div class="label">Conversation</div><div class="name">ã‚«ãƒ•ã‚§ã§ã®æ¥å®¢å ´é¢</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        æ¥å®¢ã®ã‚„ã‚Šã¨ã‚Šã€ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦šãˆã‚Œã°æ€–ããªã„ï¼ãƒ•ã‚£ã‚®ãƒ¥ã‚¢ã‚¹ã‚±ãƒ¼ãƒˆã®æ¼”æŠ€ã‚‚æ±ºã¾ã£ãŸã‚¹ãƒ†ãƒƒãƒ—ã®çµ„ã¿åˆã‚ã›ã§ã—ã‚‡ï¼Ÿæ¥å®¢ã‚‚ã‚¹ãƒ†ãƒƒãƒ—ã®ç©ã¿é‡ã­ï¼
      </div>
    </div>
    <div class="conversation-scene">â˜• ã‚«ãƒ•ã‚§ã§ã€ãŠå®¢ã•ã‚“ï¼ˆJamesï¼‰ãŒãƒ©ãƒŸãƒ³ãƒˆãƒ³ã«ã¤ã„ã¦è³ªå•ã™ã‚‹å ´é¢</div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">Hi there! Welcome to Esplanade Sweets. What can I get you?</span></div>
    <div class="convo-line"><span class="convo-speaker emma">James:</span><span class="convo-text">Hello! I&#x27;m looking at the lamingtons. What flavour are they?</span></div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">We have the classic chocolate and a raspberry one today.</span></div>
    <div class="convo-line"><span class="convo-speaker emma">James:</span><span class="convo-text">Nice! What is inside the lamington?</span></div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">It is soft sponge cake with chocolate on the outside and coconut.</span></div>
    <div class="convo-line"><span class="convo-speaker emma">James:</span><span class="convo-text">Sounds delicious. I will have the classic one, please.</span></div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">Sure! Would you like a drink with that?</span></div>
    <div class="convo-line"><span class="convo-speaker emma">James:</span><span class="convo-text">Yes, can I get a flat white?</span></div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">Of course! That will be eleven dollars.</span></div>
    <div class="convo-line"><span class="convo-speaker emma">James:</span><span class="convo-text">Here is my card. Thanks!</span></div>
    <div class="convo-line"><span class="convo-speaker you">You:</span><span class="convo-text">Thank you! Your lamington and flat white will be ready soon. Enjoy!</span></div>
    <div class="action-row">
      <button class="action-btn" onclick="copyText('convo-text')">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
      <button class="action-btn tts-btn" onclick="speakText('convo-tts', this)">ğŸ”Š èª­ã¿ä¸Šã’</button>
      <a class="action-btn" href="https://www.naturalreaders.com/online/" target="_blank">ğŸ”Š Natural Reader</a>
    </div>
    <div id="convo-text" style="display:none">You: Hi there! Welcome to Esplanade Sweets. What can I get you? James: Hello! I&#x27;m looking at the lamingtons. What flavour are they? You: We have the classic chocolate and a raspberry one today. James: Nice! What is inside the lamington? You: It is soft sponge cake with chocolate on the outside and coconut. James: Sounds delicious. I will have the classic one, please. You: Sure! Would you like a drink with that? James: Yes, can I get a flat white? You: Of course! That will be eleven dollars. James: Here is my card. Thanks! You: Thank you! Your lamington and flat white will be ready soon. Enjoy!</div>
    <div id="convo-tts" style="display:none">Hi there! Welcome to Esplanade Sweets. What can I get you? ... Hello! I&#x27;m looking at the lamingtons. What flavour are they? ... We have the classic chocolate and a raspberry one today. ... Nice! What is inside the lamington? ... It is soft sponge cake with chocolate on the outside and coconut. ... Sounds delicious. I will have the classic one, please. ... Sure! Would you like a drink with that? ... Yes, can I get a flat white? ... Of course! That will be eleven dollars. ... Here is my card. Thanks! ... Thank you! Your lamington and flat white will be ready soon. Enjoy!</div>
    <button class="vocab-toggle" onclick="toggleVocab(this)">ğŸ“š å˜èªãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹</button>
    <div class="vocab-list">
      <p style="font-size:0.75rem;color:var(--text-light);margin-bottom:0.5rem;">ğŸ’¡ ã‚ã‹ã‚‰ãªã‹ã£ãŸå˜èªã«ãƒã‚§ãƒƒã‚¯ âœ“</p>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">flavour</span><span class="vocab-ja">å‘³ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒãƒ¼ï¼ˆAUã‚¹ãƒšãƒ«ï¼‰</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">classic</span><span class="vocab-ja">ã‚¯ãƒ©ã‚·ãƒƒã‚¯ãƒ»å®šç•ªã®</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">raspberry</span><span class="vocab-ja">ãƒ©ã‚ºãƒ™ãƒªãƒ¼</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">sounds delicious</span><span class="vocab-ja">ãŠã„ã—ãã†</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">card</span><span class="vocab-ja">ã‚«ãƒ¼ãƒ‰ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ï¼‰</span></div>
      <div class="vocab-item" onclick="this.classList.toggle('checked')"><div class="vocab-check">âœ“</div><span class="vocab-en">soon</span><span class="vocab-ja">ã™ãã«</span></div>
    </div>
  </div>
</div>

<div class="section-card sec-quiz3" data-index="6">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">7</div>
    <div class="section-title"><div class="label">Quiz 3</div><div class="name">ä¼šè©±ã®å†…å®¹ãƒã‚§ãƒƒã‚¯</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="quiz-question">Q: Jamesã¯ã©ã®ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã‚’é¸ã³ã¾ã—ãŸã‹ï¼Ÿ</div>
    <div class="quiz-options">
      <div class="quiz-option" onclick="checkQuiz(this, false)">ãƒ©ã‚ºãƒ™ãƒªãƒ¼å‘³</div>
      <div class="quiz-option" onclick="checkQuiz(this, true)">ã‚¯ãƒ©ã‚·ãƒƒã‚¯ï¼ˆãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆï¼‰å‘³</div>
      <div class="quiz-option" onclick="checkQuiz(this, false)">æŠ¹èŒ¶å‘³</div>
    </div>
    <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;I will have the classic one, please.&quot;</div>
    <div class="quiz-feedback wrong">âŒ JamesãŒé¸ã¶ã‚»ãƒªãƒ•ã‚’ã‚‚ã†ä¸€å›èª­ã‚“ã§ã¿ã‚ˆã†ï¼</div>
  </div>
</div>

<div class="section-card sec-listening" data-index="7">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">8</div>
    <div class="section-title"><div class="label">ğŸ§ Listening Challenge</div><div class="name">ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã«æŒ‘æˆ¦ã—ã‚ˆã†</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        ãƒªã‚¹ãƒ‹ãƒ³ã‚°ã€æœ€åˆã¯é›£ã—ãã¦ã‚‚å¤§ä¸ˆå¤«ã€‚é™¸ä¸Šã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã¨åŒã˜ã§ã€æ¯æ—¥ã‚„ã‚Œã°ã‚¿ã‚¤ãƒ ãŒç¸®ã¾ã‚‹ã‚ˆã†ã«è´ãå–ã‚Œã‚‹ã‚ˆã†ã«ãªã‚‹ã‚ˆï¼
      </div>
    </div>

    <!-- Part A -->
    <div class="listening-box">
      <h4>ğŸ”Š Part A: ã‚¹ãƒ¼ãƒ‘ãƒ¼ã§ã®è²·ã„ç‰©ï¼ˆç©´åŸ‹ã‚ï¼‰</h4>
      <p class="listening-instruction">éŸ³å£°ã‚’è´ã„ã¦ã€ç©ºæ¬„ã«å…¥ã‚‹å˜èªã‚’æ›¸ã„ã¦ã¿ã‚ˆã†ã€‚æœ€åˆã¯ã‚ã‹ã‚‰ãªãã¦å½“ç„¶ï¼ä½•å›ã§ã‚‚è´ã„ã¦OKã€‚</p>
      <div style="display:flex;align-items:center;gap:0.5rem;flex-wrap:wrap;margin-bottom:0.8rem;">
        <button class="tts-btn" onclick="speakText('listening-a-tts', this)">ğŸ”Š å†ç”Ÿ</button>
        <span class="tts-speed">é€Ÿåº¦: <select id="speed-a" onchange="currentSpeed=parseFloat(this.value)">
          <option value="0.7">ğŸ¢ ã‚†ã£ãã‚Š</option>
          <option value="0.85" selected>æ™®é€š</option>
          <option value="1">é€Ÿã„</option>
        </select></span>
        <span class="repeat-count" id="repeat-a">å†ç”Ÿå›æ•°: 0</span>
      </div>
      <div id="listening-a-tts" style="display:none">Excuse me, where can I find desiccated coconut? It is in aisle three, next to the baking supplies. Thank you! I also need cocoa powder. That is on the same shelf. Great. How much is the coconut? It is four dollars fifty. OK, I will take one bag. Do you need anything else? No, that is everything. Have a nice day!</div>
      <div class="gap-fill">1. Where can I find desiccated <input type="text" data-answer="coconut" placeholder="____"> ?</div>
      <div class="gap-fill">2. It is in aisle three, next to the <input type="text" data-answer="baking" placeholder="____"> supplies.</div>
      <div class="gap-fill">3. I also need cocoa <input type="text" data-answer="powder" placeholder="____"> .</div>
      <div class="gap-fill">4. It is four dollars <input type="text" data-answer="fifty" placeholder="____"> .</div>
      <div class="gap-fill">5. No, that is <input type="text" data-answer="everything" placeholder="____"> .</div>
      <button class="listening-check-btn" onclick="checkAllGaps(this)">âœ… ç­”ãˆã‚’ç¢ºèª</button>
      <div class="listening-answer" id="gap-answer-a">
        <strong>ç­”ãˆ:</strong> 1. <strong>coconut</strong> 2. <strong>baking</strong> 3. <strong>powder</strong> 4. <strong>fifty</strong> 5. <strong>everything</strong>
      </div>
      <button class="listening-script-toggle" onclick="toggleScript(this)">ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¦‹ã‚‹</button>
      <div class="listening-script">
        Excuse me, where can I find desiccated coconut? It is in aisle three, next to the baking supplies.<br>
        Thank you! I also need cocoa powder.<br>
        That is on the same shelf.<br>
        Great.<br>
        How much is the coconut? It is four dollars fifty.<br>
        OK, I will take one bag.<br>
        Do you need anything else? No, that is everything.<br>
        Have a nice day!
      </div>
    </div>

    <!-- Part B -->
    <div class="listening-box">
      <h4>ğŸ”Š Part B: ãƒ©ãƒŸãƒ³ãƒˆãƒ³ä½œã‚Šã®ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ï¼ˆå†…å®¹ç†è§£ï¼‰</h4>
      <p class="listening-instruction">éŸ³å£°ã‚’è´ã„ã¦ã‹ã‚‰ã€è³ªå•ã«ç­”ãˆã¦ã¿ã‚ˆã†ã€‚å…ˆã«è³ªå•ã‚’èª­ã‚“ã§ã‹ã‚‰è´ãã®ã‚‚OKï¼</p>
      <div style="display:flex;align-items:center;gap:0.5rem;flex-wrap:wrap;margin-bottom:0.8rem;">
        <button class="tts-btn" onclick="speakText('listening-b-tts', this)">ğŸ”Š å†ç”Ÿ</button>
        <span class="tts-speed">é€Ÿåº¦: <select id="speed-b" onchange="currentSpeed=parseFloat(this.value)">
          <option value="0.7">ğŸ¢ ã‚†ã£ãã‚Š</option>
          <option value="0.85" selected>æ™®é€š</option>
          <option value="1">é€Ÿã„</option>
        </select></span>
        <span class="repeat-count" id="repeat-b">å†ç”Ÿå›æ•°: 0</span>
      </div>
      <div id="listening-b-tts" style="display:none">Good morning, everyone! Welcome to our lamington workshop. Today we will learn to make lamingtons from scratch. The class is two hours long. First, we will bake the sponge cake together. Then, while the cake cools, we will make the chocolate sauce. After that, you will cut, dip, and roll your own lamingtons. You can take home a box of six lamingtons. The cost of the workshop is thirty dollars. This includes all ingredients and a recipe card to take home.</div>

      <div class="quiz-question" style="margin-top:0.5rem;">Q1: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã¯ä½•æ™‚é–“ã§ã™ã‹ï¼Ÿ</div>
      <div class="quiz-options">
        <div class="quiz-option" onclick="checkQuiz(this, false)">1æ™‚é–“</div>
        <div class="quiz-option" onclick="checkQuiz(this, true)">2æ™‚é–“</div>
        <div class="quiz-option" onclick="checkQuiz(this, false)">3æ™‚é–“</div>
      </div>
      <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;The class is two hours long.&quot;</div>
      <div class="quiz-feedback wrong">âŒ &quot;hours&quot; ã®å‰ã®æ•°å­—ã«æ³¨ç›®ï¼</div>

      <div class="quiz-question" style="margin-top:1.2rem;">Q2: ãƒ©ãƒŸãƒ³ãƒˆãƒ³ã‚’ä½•å€‹æŒã¡å¸°ã‚Œã¾ã™ã‹ï¼Ÿ</div>
      <div class="quiz-options">
        <div class="quiz-option" onclick="checkQuiz(this, false)">4å€‹</div>
        <div class="quiz-option" onclick="checkQuiz(this, true)">6å€‹</div>
        <div class="quiz-option" onclick="checkQuiz(this, false)">8å€‹</div>
      </div>
      <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;You can take home a box of six lamingtons.&quot;</div>
      <div class="quiz-feedback wrong">âŒ &quot;take home&quot; ã®å¾Œã‚’ã‚‚ã†ä¸€å›è´ã„ã¦ã¿ã‚ˆã†ï¼</div>

      <div class="quiz-question" style="margin-top:1.2rem;">Q3: ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã®æ–™é‡‘ã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ</div>
      <div class="quiz-options">
        <div class="quiz-option" onclick="checkQuiz(this, false)">20ãƒ‰ãƒ«</div>
        <div class="quiz-option" onclick="checkQuiz(this, true)">30ãƒ‰ãƒ«</div>
        <div class="quiz-option" onclick="checkQuiz(this, false)">40ãƒ‰ãƒ«</div>
      </div>
      <div class="quiz-feedback correct">â­• æ­£è§£ï¼æ­£è§£ï¼&quot;The cost of the workshop is thirty dollars.&quot;</div>
      <div class="quiz-feedback wrong">âŒ &quot;cost&quot; ã®å¾Œã®é‡‘é¡ã‚’ã‚‚ã†ä¸€å›è´ã„ã¦ã¿ã‚ˆã†ï¼</div>

      <button class="listening-script-toggle" onclick="toggleScript(this)" style="margin-top:0.8rem;">ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¦‹ã‚‹</button>
      <div class="listening-script">
        Good morning, everyone! Welcome to our lamington workshop.<br>
        Today we will learn to make lamingtons from scratch.<br>
        The class is two hours long.<br>
        First, we will bake the sponge cake together.<br>
        Then, while the cake cools, we will make the chocolate sauce.<br>
        After that, you will cut, dip, and roll your own lamingtons.<br>
        You can take home a box of six lamingtons.<br>
        The cost of the workshop is thirty dollars.<br>
        This includes all ingredients and a recipe card to take home.
      </div>
    </div>
  </div>
</div>

<div class="section-card sec-pronun" data-index="8">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">9</div>
    <div class="section-title"><div class="label">ğŸ¤ Pronunciation Check</div><div class="name">ç™ºéŸ³ãƒã‚§ãƒƒã‚¯ã«æŒ‘æˆ¦ã—ã‚ˆã†</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        å£°ã«å‡ºã—ã¦ç·´ç¿’ã™ã‚‹ã®ãŒä¸€ç•ªï¼Snow Manã®ãƒ¡ãƒ³ãƒãƒ¼ã‚‚ãƒ€ãƒ³ã‚¹ã®æŒ¯ã‚Šã‚’ä½•å›ã‚‚ä½“ã§è¦šãˆã‚‹ã§ã—ã‚‡ï¼Ÿç™ºéŸ³ã‚‚ä½“ã§è¦šãˆã‚ˆã†ã€‚
      </div>
    </div>

    <div class="pronun-box">
      <h4>ğŸ¤ æ–‡ã‚’å£°ã«å‡ºã—ã¦èª­ã‚“ã§ã¿ã‚ˆã†</h4>
      <p style="font-size:0.85rem;color:var(--text-light);margin-bottom:0.5rem;">ãƒã‚¤ã‚¯ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã€è¡¨ç¤ºã•ã‚ŒãŸæ–‡ã‚’èª­ã¿ä¸Šã’ã¦ãã ã•ã„ã€‚éŸ³å£°èªè­˜ã§ã‚ãªãŸã®ç™ºéŸ³ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚</p>

      <div class="pronun-sentence" id="pronun-target"></div>

      <div style="display:flex;align-items:center;gap:0.8rem;flex-wrap:wrap;">
        <button class="pronun-record-btn" id="pronun-btn" onclick="togglePronunRecording()">
          ğŸ¤ éŒ²éŸ³ã‚¹ã‚¿ãƒ¼ãƒˆ
        </button>
        <button class="tts-btn" onclick="speakPronunSentence()" style="background:var(--navy);">ğŸ”Š ãŠæ‰‹æœ¬ã‚’è´ã</button>
      </div>

      <div class="pronun-result" id="pronun-result">
        <div class="pronun-score">
          <div class="pronun-score-circle" id="pronun-score-circle">-</div>
          <div>
            <div style="font-weight:700;color:var(--navy);" id="pronun-score-label">åˆ¤å®šä¸­...</div>
            <div style="font-size:0.75rem;color:var(--text-light);" id="pronun-score-detail"></div>
          </div>
        </div>
        <div class="pronun-heard" id="pronun-heard"></div>
        <ul class="pronun-tips" id="pronun-tips"></ul>
      </div>

      <div class="pronun-nav">
        <button class="pronun-nav-btn" id="pronun-prev" onclick="changePronunSentence(-1)">â† å‰ã®æ–‡</button>
        <span class="pronun-counter" id="pronun-counter">1 / 5</span>
        <button class="pronun-nav-btn" id="pronun-next" onclick="changePronunSentence(1)">æ¬¡ã®æ–‡ â†’</button>
      </div>

      <div class="pronun-browser-note">
        ğŸ’¡ Chromeæ¨å¥¨ã€‚ãƒã‚¤ã‚¯ã®è¨±å¯ãŒå¿…è¦ã§ã™ã€‚é™ã‹ãªå ´æ‰€ã§ã€ã¯ã£ãã‚Šå£°ã«å‡ºã—ã¦èª­ã‚“ã§ãã ã•ã„ã€‚
      </div>
    </div>
  </div>
</div>
<script>
const pronunSentences = [{"text": "What can I get you?", "tip": "ã€Œãƒ¯ãƒƒã‚­ãƒ£ãƒŠã‚¤ ã‚²ãƒƒãƒãƒ¥ãƒ¼ã€ã®ã‚ˆã†ã«ã¤ãªãŒã‚Šã¾ã™ã€‚What can ãŒã€Œãƒ¯ãƒƒã‚­ãƒ£ãƒ³ã€ã€get you ãŒã€Œã‚²ãƒƒãƒãƒ¥ãƒ¼ã€ã¨ãƒªãƒ³ã‚­ãƒ³ã‚°ã€‚"}, {"text": "It is soft sponge cake with chocolate on the outside.", "tip": "soft sponge ã¯ã€Œã‚½ãƒ•ãƒˆ ã‚¹ãƒãƒ³ã‚¸ã€ã§ s ã®éŸ³ãŒç¶šãã¾ã™ã€‚chocolate ã¯ã€Œãƒãƒ§ã‚¯ãƒ¬ãƒƒãƒˆã€ã§ o ãŒå¼±ã„ã€‚"}, {"text": "Would you like a drink with that?", "tip": "Would you ãŒã€Œã‚¦ãƒƒã‚¸ãƒ¥ãƒ¼ã€ã€drink with ãŒã€Œãƒ‰ãƒªãƒ³ã‚¯ã‚¦ã‚£ã‚ºã€ã€‚that ã® th ã¯èˆŒã‚’æ­¯ã«è»½ãå½“ã¦ã¦ã€‚"}, {"text": "Sounds delicious!", "tip": "Sounds ã¯ã€Œã‚µã‚¦ãƒ³ã‚ºã€ã§æœ€å¾Œã® z ã‚’ã—ã£ã‹ã‚Šã€‚delicious ã¯ã€Œãƒ‡ãƒªã‚·ãƒ£ã‚¹ã€ã§ li ã«ã‚¢ã‚¯ã‚»ãƒ³ãƒˆã€‚"}, {"text": "Your lamington and flat white will be ready soon.", "tip": "and ã¯å¼±ãã€Œã‚¢ãƒ³ã€ã€‚flat white ã¯ã€Œãƒ•ãƒ©ãƒƒ ãƒ¯ã‚¤ãƒˆã€ã§ t ãŒè»½ããªã‚Šã¾ã™ã€‚ready ã¯ã€Œãƒ¬ãƒ‡ã‚£ã€ã§ r ã®ç™ºéŸ³ã«æ³¨æ„ã€‚"}];
</script>

<div class="section-card sec-tryit" data-index="9">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">10</div>
    <div class="section-title"><div class="label">âœï¸ Try It!</div><div class="name">ä»Šæ—¥ã®ã“ã¨ã‚’3è¡Œã§æ›¸ã„ã¦ã¿ã‚ˆã†</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="yamada-comment">
      <img src="assets/ryosuke.jpg" alt="Ryosuke" style="width:36px;height:36px;border-radius:50%;object-fit:cover;flex-shrink:0;box-shadow:0 2px 8px rgba(194,24,91,0.3);">
      <div class="yamada-text">
        <div class="yamada-name">Ryosuke</div>
        3è¡Œãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼ä¿ºã‚‚ãƒ‰ãƒ©ãƒã®ã‚»ãƒªãƒ•è¦šãˆã‚‹ã¨ãã€ã¾ãšçŸ­ã„ãƒ•ãƒ¬ãƒ¼ã‚ºã‹ã‚‰å§‹ã‚ã‚‹ã‚ˆã€‚æ›¸ãã“ã¨ã§é ­ã«å…¥ã‚‹ã‹ã‚‰ã€ãŒã‚“ã°ã£ã¦ï¼
      </div>
    </div>
    <div class="try-it-box">
      <h4>âœï¸ å¥½ããªã‚¹ã‚¤ãƒ¼ãƒ„ã‚’è‹±èªã§ç´¹ä»‹ã—ã¦ã¿ã‚ˆã†ï¼ˆ3è¡Œï¼‰ã€‚ã©ã‚“ãªå‘³ï¼Ÿã©ã“ã§é£Ÿã¹ãŸï¼Ÿ</h4>
      <p>ğŸ’¡ ä»Šæ—¥ã®ä¼šè©±ã‚„æ–‡ã‚’ãƒãƒã—ã¦OKï¼ã‚ã‹ã‚‰ãªã„è‹±èªã¯æ—¥æœ¬èªã®ã¾ã¾ã§å¤§ä¸ˆå¤«ã€‚</p>
      <p><strong>ä¾‹:</strong> I love lamingtons. They are soft sponge cake with chocolate and coconut. I ate one at a cafÃ© near the Esplanade. It was very sweet and yummy!</p>
      <textarea class="try-it-textarea" id="tryit-text" placeholder="ã“ã“ã«è‹±èªã§æ›¸ã„ã¦ã¿ã‚ˆã†..."></textarea>
    </div>
  </div>
</div>

<div class="section-card sec-summary" data-index="10">
  <div class="section-header" onclick="toggleSection(this)">
    <div class="section-number">11</div>
    <div class="section-title"><div class="label">ğŸ“Š Summary</div><div class="name">å­¦ç¿’ã‚µãƒãƒªãƒ¼</div></div>
    <div class="section-chevron">â–¾</div>
  </div>
  <div class="section-body">
    <div class="summary-box">
      <p style="font-size:0.85rem;color:var(--text-light);margin-bottom:0.8rem;">ChatGPTã‚„Claudeã«ã‚³ãƒ”ãƒšã—ã¦è§£èª¬ã‚’ã‚‚ã‚‰ãŠã†</p>
      <button class="summary-btn" onclick="generateSummary()">ğŸ“‹ ã‚µãƒãƒªãƒ¼ã‚’ç”Ÿæˆã™ã‚‹</button>
      <div class="summary-output" id="summary-output"></div>
      <div class="action-row" style="justify-content:center;margin-top:0.5rem;">
        <button class="action-btn" onclick="copySummary()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button>
        <a class="action-btn" href="https://chat.openai.com" target="_blank">ğŸ¤– ChatGPT</a>
        <a class="action-btn" href="https://claude.ai" target="_blank">ğŸ¤– Claude</a>
      </div>
    </div>
  </div>
</div>

<div class="day-nav">
  <a class="nav-btn" href="day1.html">â† Day 1</a>
  <a class="home-btn" href="index.html">ğŸ  ãƒ›ãƒ¼ãƒ </a>
  <a class="nav-btn" href="day3.html">Day 3 â†’</a>
</div>

</div>

<script>
let currentSpeed = 0.85;
let repeatCounts = {};

function toggleSection(header) {
  const card = header.parentElement;
  card.classList.toggle('open');
  const index = parseInt(card.dataset.index);
  const dots = document.querySelectorAll('.progress-dot');
  if (card.classList.contains('open')) {
    dots[index].classList.add('active');
    for (let i = 0; i < index; i++) { dots[i].classList.add('complete'); dots[i].classList.remove('active'); }
  }
  const openCards = document.querySelectorAll('.section-card.open');
  document.querySelector('.progress-label').textContent = openCards.length + ' / 11 ã‚»ã‚¯ã‚·ãƒ§ãƒ³';
}

function toggleVocab(btn) {
  const list = btn.nextElementSibling;
  list.classList.toggle('show');
  btn.textContent = list.classList.contains('show') ? 'ğŸ“š å˜èªãƒªã‚¹ãƒˆã‚’éš ã™' : 'ğŸ“š å˜èªãƒªã‚¹ãƒˆã‚’è¦‹ã‚‹';
}

function checkQuiz(option, isCorrect) {
  const parent = option.parentElement;
  if (parent.dataset.answered) return;
  parent.dataset.answered = 'true';
  const allOptions = parent.querySelectorAll('.quiz-option');
  allOptions.forEach(opt => opt.style.pointerEvents = 'none');
  if (isCorrect) {
    option.classList.add('correct');
    parent.nextElementSibling.classList.add('show');
  } else {
    option.classList.add('wrong');
    parent.nextElementSibling.nextElementSibling.classList.add('show');
  }
}

// Web Speech API TTS
function speakText(elementId, btn) {
  if (window.speechSynthesis.speaking) {
    window.speechSynthesis.cancel();
    btn.textContent = 'ğŸ”Š å†ç”Ÿ';
    btn.classList.remove('playing');
    return;
  }
  const text = document.getElementById(elementId).textContent;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'en-AU';
  utterance.rate = currentSpeed;
  utterance.pitch = 1;

  const voices = window.speechSynthesis.getVoices();
  const enVoice = voices.find(v => v.lang.startsWith('en-AU')) ||
                  voices.find(v => v.lang.startsWith('en-GB')) ||
                  voices.find(v => v.lang.startsWith('en'));
  if (enVoice) utterance.voice = enVoice;

  btn.textContent = 'â¹ åœæ­¢';
  btn.classList.add('playing');

  if (!repeatCounts[elementId]) repeatCounts[elementId] = 0;
  repeatCounts[elementId]++;
  const repeatEl = btn.parentElement.querySelector('.repeat-count');
  if (repeatEl) repeatEl.textContent = 'å†ç”Ÿå›æ•°: ' + repeatCounts[elementId];

  utterance.onend = () => { btn.textContent = 'ğŸ”Š å†ç”Ÿ'; btn.classList.remove('playing'); };
  utterance.onerror = () => { btn.textContent = 'ğŸ”Š å†ç”Ÿ'; btn.classList.remove('playing'); };
  window.speechSynthesis.speak(utterance);
}

window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();

function checkAllGaps(btn) {
  const box = btn.closest('.listening-box');
  const inputs = box.querySelectorAll('input[data-answer]');
  inputs.forEach(input => {
    const correct = input.dataset.answer.toLowerCase();
    const val = input.value.trim().toLowerCase();
    input.classList.remove('correct-input', 'wrong-input');
    if (val === correct) { input.classList.add('correct-input'); }
    else { input.classList.add('wrong-input'); }
  });
  const answer = box.querySelector('.listening-answer');
  if (answer) answer.classList.add('show');
}

function toggleScript(btn) {
  const script = btn.nextElementSibling;
  script.classList.toggle('show');
  btn.textContent = script.classList.contains('show') ? 'ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’éš ã™' : 'ğŸ“ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¦‹ã‚‹';
}

function copyText(id) {
  const text = document.getElementById(id).textContent;
  navigator.clipboard.writeText(text).then(() => alert('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼'));
}

function generateSummary() {
  const checked = document.querySelectorAll('.vocab-item.checked');
  const vocabList = Array.from(checked).map(i => i.querySelector('.vocab-en').textContent);
  const tryIt = document.getElementById('tryit-text').value;
  const listeningPlays = Object.entries(repeatCounts).map(([k,v]) => k + ': ' + v + 'å›').join(', ');

  let s = `ã€Day 2: Lamington å­¦ç¿’ã‚µãƒãƒªãƒ¼ã€‘\n\n`;
  s += `â–  ãƒã‚§ãƒƒã‚¯ã—ãŸå˜èª (${vocabList.length}å€‹):\n${vocabList.length > 0 ? vocabList.join(', ') : 'ãªã—'}\n\n`;
  s += `â–  ãƒªã‚¹ãƒ‹ãƒ³ã‚°å†ç”Ÿå›æ•°:\n${listeningPlays || 'æœªå†ç”Ÿ'}\n\n`;

  const pronunSummary = pronunResults.filter(r => r).map((r, i) =>
    `  ${i+1}. "${r.target}" â†’ ${r.score}% (èªè­˜: "${r.heard}")`
  ).join('\n');
  s += `â–  ç™ºéŸ³ãƒã‚§ãƒƒã‚¯çµæœ:\n${pronunSummary || '(æœªå®Ÿæ–½)'}\n\n`;

  s += `â–  Today's Writing:\n${tryIt || '(æœªè¨˜å…¥)'}\n\n`;
  s += `---\nä¸Šã®å†…å®¹ã‚’ã‚‚ã¨ã«ã€ä»¥ä¸‹ã‚’æ•™ãˆã¦ãã ã•ã„ï¼š\n1. ãƒã‚§ãƒƒã‚¯ã—ãŸå˜èªã®ä½¿ã„æ–¹ï¼ˆä¾‹æ–‡ä»˜ãï¼‰\n2. ç™ºéŸ³ãƒã‚§ãƒƒã‚¯ã§é–“é•ãˆãŸéƒ¨åˆ†ã®ã‚¢ãƒ‰ãƒã‚¤ã‚¹\n3. Today's Writingã®æ·»å‰Š\n4. ä»Šæ—¥å­¦ã‚“ã ãƒ•ãƒ¬ãƒ¼ã‚ºã®ç™ºå±•è¡¨ç¾`;

  const output = document.getElementById('summary-output');
  output.textContent = s;
  output.classList.add('show');
}

function copySummary() {
  const text = document.getElementById('summary-output').textContent;
  navigator.clipboard.writeText(text).then(() => alert('ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼'));
}

document.querySelectorAll('.progress-dot').forEach(dot => {
  dot.addEventListener('click', () => {
    const index = parseInt(dot.dataset.section);
    const cards = document.querySelectorAll('.section-card');
    if (cards[index]) {
      cards[index].scrollIntoView({ behavior: 'smooth', block: 'start' });
      if (!cards[index].classList.contains('open')) toggleSection(cards[index].querySelector('.section-header'));
    }
  });
});

// ===== PRONUNCIATION CHECK =====
// pronunSentences is defined in the HTML before this script

let currentPronunIndex = 0;
let pronunResults = [];
let pronunRecognition = null;
let isRecording = false;

function initPronun() {
  renderPronunSentence();
  updatePronunNav();
}

function renderPronunSentence() {
  const target = document.getElementById('pronun-target');
  const sentence = pronunSentences[currentPronunIndex];
  const words = sentence.text.split(' ');
  target.innerHTML = words.map((w, i) => `<span class="word" data-index="${i}">${w}</span>`).join(' ');

  const result = document.getElementById('pronun-result');
  result.classList.remove('show', 'good', 'needs-work', 'try-again');
}

function updatePronunNav() {
  document.getElementById('pronun-counter').textContent =
    `${currentPronunIndex + 1} / ${pronunSentences.length}`;
  document.getElementById('pronun-prev').classList.toggle('disabled', currentPronunIndex === 0);
  document.getElementById('pronun-next').classList.toggle('disabled', currentPronunIndex === pronunSentences.length - 1);
}

function changePronunSentence(dir) {
  const newIndex = currentPronunIndex + dir;
  if (newIndex < 0 || newIndex >= pronunSentences.length) return;
  currentPronunIndex = newIndex;
  renderPronunSentence();
  updatePronunNav();
}

function speakPronunSentence() {
  if (window.speechSynthesis.speaking) {
    window.speechSynthesis.cancel();
    return;
  }
  const text = pronunSentences[currentPronunIndex].text;
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'en-AU';
  utterance.rate = 0.85;
  const voices = window.speechSynthesis.getVoices();
  const enVoice = voices.find(v => v.lang.startsWith('en-AU')) ||
                  voices.find(v => v.lang.startsWith('en-GB')) ||
                  voices.find(v => v.lang.startsWith('en'));
  if (enVoice) utterance.voice = enVoice;
  window.speechSynthesis.speak(utterance);
}

function togglePronunRecording() {
  if (!('webkitSpeechRecognition' in window) && !('SpeechRecognition' in window)) {
    alert('ãŠä½¿ã„ã®ãƒ–ãƒ©ã‚¦ã‚¶ã¯éŸ³å£°èªè­˜ã«å¯¾å¿œã—ã¦ã„ã¾ã›ã‚“ã€‚Chrome ã‚’ãŠä½¿ã„ãã ã•ã„ã€‚');
    return;
  }

  if (isRecording) {
    stopPronunRecording();
    return;
  }

  const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
  pronunRecognition = new SpeechRecognition();
  pronunRecognition.lang = 'en-AU';
  pronunRecognition.interimResults = false;
  pronunRecognition.maxAlternatives = 3;
  pronunRecognition.continuous = false;

  const btn = document.getElementById('pronun-btn');
  btn.textContent = 'â¹ éŒ²éŸ³ä¸­...';
  btn.classList.add('recording');
  isRecording = true;

  pronunRecognition.onresult = (event) => {
    const results = event.results[0];
    const heard = results[0].transcript;
    const confidence = results[0].confidence;
    const alternatives = [];
    for (let i = 0; i < results.length; i++) {
      alternatives.push(results[i].transcript.toLowerCase());
    }
    evaluatePronunciation(heard, confidence, alternatives);
    stopPronunRecording();
  };

  pronunRecognition.onerror = (event) => {
    stopPronunRecording();
    if (event.error === 'no-speech') {
      alert('éŸ³å£°ãŒæ¤œå‡ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ã‚‚ã†å°‘ã—å¤§ããªå£°ã§ã¯ã£ãã‚Šè©±ã—ã¦ã¿ã¦ãã ã•ã„ã€‚');
    } else if (event.error === 'not-allowed') {
      alert('ãƒã‚¤ã‚¯ã®ä½¿ç”¨ãŒè¨±å¯ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§ãƒã‚¤ã‚¯ã‚’è¨±å¯ã—ã¦ãã ã•ã„ã€‚');
    } else {
      alert('éŸ³å£°èªè­˜ã‚¨ãƒ©ãƒ¼: ' + event.error);
    }
  };

  pronunRecognition.onend = () => {
    stopPronunRecording();
  };

  pronunRecognition.start();
}

function stopPronunRecording() {
  const btn = document.getElementById('pronun-btn');
  btn.textContent = 'ğŸ¤ ã‚‚ã†ä¸€å›';
  btn.classList.remove('recording');
  isRecording = false;
  if (pronunRecognition) {
    try { pronunRecognition.stop(); } catch(e) {}
  }
}

function normalizeText(text) {
  return text.toLowerCase()
    .replace(/[.,!?;:'"()\-]/g, '')
    .replace(/\s+/g, ' ')
    .trim();
}

function evaluatePronunciation(heard, confidence, alternatives) {
  const target = pronunSentences[currentPronunIndex].text;
  const tip = pronunSentences[currentPronunIndex].tip;

  const targetWords = normalizeText(target).split(' ');
  const heardWords = normalizeText(heard).split(' ');

  const allHeardWords = new Set();
  alternatives.forEach(alt => {
    normalizeText(alt).split(' ').forEach(w => allHeardWords.add(w));
  });

  let correctCount = 0;
  const wordElements = document.querySelectorAll('#pronun-target .word');

  targetWords.forEach((targetWord, i) => {
    const el = wordElements[i];
    if (!el) return;

    el.classList.remove('correct', 'wrong', 'missed');

    const targetClean = targetWord.toLowerCase();

    if (heardWords.includes(targetClean) || allHeardWords.has(targetClean)) {
      el.classList.add('correct');
      correctCount++;
    } else {
      const similar = heardWords.some(hw => levenshtein(hw, targetClean) <= 1) ||
                      [...allHeardWords].some(hw => levenshtein(hw, targetClean) <= 1);
      if (similar) {
        el.classList.add('correct');
        correctCount++;
      } else {
        el.classList.add('wrong');
      }
    }
  });

  const score = Math.round((correctCount / targetWords.length) * 100);

  pronunResults[currentPronunIndex] = { score, heard, target };

  const resultEl = document.getElementById('pronun-result');
  const scoreCircle = document.getElementById('pronun-score-circle');
  const scoreLabel = document.getElementById('pronun-score-label');
  const scoreDetail = document.getElementById('pronun-score-detail');
  const heardEl = document.getElementById('pronun-heard');
  const tipsEl = document.getElementById('pronun-tips');

  scoreCircle.textContent = score + '%';
  scoreCircle.classList.remove('high', 'mid', 'low');
  resultEl.classList.remove('good', 'needs-work', 'try-again');

  if (score >= 80) {
    scoreCircle.classList.add('high');
    scoreLabel.textContent = 'ğŸ‰ Great!';
    scoreDetail.textContent = 'ã—ã£ã‹ã‚Šé€šã˜ã‚‹ç™ºéŸ³ã§ã™ï¼';
    resultEl.classList.add('good');
  } else if (score >= 50) {
    scoreCircle.classList.add('mid');
    scoreLabel.textContent = 'ğŸ‘ Almost!';
    scoreDetail.textContent = 'ã‚‚ã†å°‘ã—ï¼èµ¤ã„å˜èªã‚’æ„è­˜ã—ã¦ã¿ã‚ˆã†ã€‚';
    resultEl.classList.add('needs-work');
  } else {
    scoreCircle.classList.add('low');
    scoreLabel.textContent = 'ğŸ’ª Keep trying!';
    scoreDetail.textContent = 'ãŠæ‰‹æœ¬ã‚’è´ã„ã¦ã‹ã‚‰ã‚‚ã†ä¸€å›ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼';
    resultEl.classList.add('try-again');
  }

  heardEl.innerHTML = `<strong>ğŸ§ èªè­˜ã•ã‚ŒãŸéŸ³å£°:</strong> "${heard}"`;
  tipsEl.innerHTML = `<li>ğŸ’¡ ${tip}</li>`;

  const wrongWords = [];
  wordElements.forEach((el, i) => {
    if (el.classList.contains('wrong') && targetWords[i]) {
      wrongWords.push(targetWords[i]);
    }
  });
  if (wrongWords.length > 0) {
    tipsEl.innerHTML += `<li>ğŸ”´ èªè­˜ã•ã‚Œãªã‹ã£ãŸå˜èª: <strong>${wrongWords.join(', ')}</strong> â€” ã‚†ã£ãã‚Šã¯ã£ãã‚Šç™ºéŸ³ã—ã¦ã¿ã‚ˆã†</li>`;
  }

  resultEl.classList.add('show');
}

// Simple Levenshtein distance for fuzzy matching
function levenshtein(a, b) {
  if (a.length === 0) return b.length;
  if (b.length === 0) return a.length;
  const matrix = [];
  for (let i = 0; i <= b.length; i++) matrix[i] = [i];
  for (let j = 0; j <= a.length; j++) matrix[0][j] = j;
  for (let i = 1; i <= b.length; i++) {
    for (let j = 1; j <= a.length; j++) {
      if (b.charAt(i - 1) === a.charAt(j - 1)) {
        matrix[i][j] = matrix[i - 1][j - 1];
      } else {
        matrix[i][j] = Math.min(
          matrix[i - 1][j - 1] + 1,
          matrix[i][j - 1] + 1,
          matrix[i - 1][j] + 1
        );
      }
    }
  }
  return matrix[b.length][a.length];
}

document.addEventListener('DOMContentLoaded', initPronun);
</script>
</body>
</html>